trigger floodTrigger on Water_Reading__c (after insert) {
    
	List<Flood__c> floods = new List<Flood__c>();
    
    for (Water_Reading__c wr : Trigger.New) {
        if (wr.Preliminary_Height__c -1 >= HighTide.populate().get(string.ValueOf(wr.WaterSensor__r.Name))) {
            floods.add(ItIsFlooding.create_flood(wr));
        } else {continue;}
    }
    upsert floods;
}